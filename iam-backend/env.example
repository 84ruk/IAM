# Configuración de la base de datos
DATABASE_URL="postgresql://usuario:contraseña@localhost:5432/iam_db"
DIRECT_URL="postgresql://usuario:contraseña@localhost:5432/iam_db"

# ===========================================
# CONFIGURACIÓN DE POOL DE CONEXIONES
# ===========================================

# Configuración del pool de conexiones de Prisma
# Para operaciones pesadas como importación de datos
PRISMA_CONNECTION_LIMIT=20          # Límite de conexiones en el pool
PRISMA_POOL_TIMEOUT=20              # Timeout en segundos para obtener conexión
PRISMA_IDLE_TIMEOUT=300             # Timeout en segundos para conexiones inactivas
PRISMA_ACQUIRE_TIMEOUT=60000        # Timeout en ms para adquirir conexión
PRISMA_REAP_INTERVAL=1000           # Intervalo en ms para limpiar conexiones inactivas

# Configuración de retry para operaciones de base de datos
PRISMA_MAX_RETRIES=3                # Máximo número de reintentos
PRISMA_RETRY_DELAY=1000             # Delay entre reintentos en ms

# Configuración JWT
JWT_SECRET="tu_jwt_secret_super_seguro"
JWT_EXPIRES_IN="24h"

# Configuración de correo
MAIL_HOST="smtp.gmail.com"
MAIL_PORT=587
MAIL_USER="tu_email@gmail.com"
MAIL_PASS="tu_contraseña_de_aplicacion"

# Configuración de Google OAuth
GOOGLE_CLIENT_ID="tu_google_client_id"
GOOGLE_CLIENT_SECRET="tu_google_client_secret"
GOOGLE_CALLBACK_URL="http://localhost:3000/auth/google/callback"

# ===========================================
# CONFIGURACIÓN DE REDIS UNIFICADA
# ===========================================

# Opción 1: URL completa (Upstash, Railway, etc.) - RECOMENDADO
REDIS_URL=redis://localhost:6379

# Opción 2: Configuración individual (host, port, password) - Redis Cloud
# REDIS_HOST="redis-16076.c16.us-east-1-3.ec2.redns.redis-cloud.com"
# REDIS_PORT=16076
# REDIS_PASSWORD="tu_redis_password_aqui"
# REDIS_DB=0

# Opción 3: Configuración con username (Redis Cloud con autenticación)
# REDIS_USERNAME="default"
# REDIS_PASSWORD="tu_redis_password_aqui"
# REDIS_HOST="redis-16076.c16.us-east-1-3.ec2.redns.redis-cloud.com"
# REDIS_PORT=16076
# REDIS_DB=0

# ===========================================
# CONFIGURACIÓN DE CACHE
# ===========================================

# TTL (Time To Live) en segundos
CACHE_TTL_KPIS=300          # 5 minutos para KPIs
CACHE_TTL_IMPORTACION=1800  # 30 minutos para importación
CACHE_TTL_PLANTILLAS=3600   # 1 hora para plantillas
CACHE_TTL_TRABAJOS=7200     # 2 horas para trabajos

# ===========================================
# CONFIGURACIÓN DE FALLBACK
# ===========================================

# Si Redis falla, continuar sin cache
REDIS_FALLBACK_ENABLED=true

# Logs de cache para debugging
CACHE_DEBUG_ENABLED=false

# Configuración MQTT (OPCIONAL - Deshabilitado por defecto)
# Para habilitar MQTT, descomenta y configura las siguientes variables:
# MQTT_ENABLED=true
# MQTT_HOST=localhost
# MQTT_PORT=1883
# MQTT_USERNAME=usuario
# MQTT_PASSWORD=contraseña

# Configuración EMQX (Nueva configuración para broker EMQX)
# MQTT_ENABLED=true
# MQTT_HOST=h02f10fd.ala.us-east-1.emqxsl.com
# MQTT_PORT=8883
# MQTT_USE_TLS=true
# MQTT_USERNAME=tu_usuario
# MQTT_PASSWORD=tu_contraseña
# MQTT_APP_ID=v2c96220
# MQTT_APP_SECRET=tu_app_secret
# MQTT_API_ENDPOINT=https://h02f10fd.ala.us-east-1.emqxsl.com:8443/api/v5

# Configuración avanzada MQTT (opcional)
# MQTT_RECONNECT_PERIOD=5000
# MQTT_CONNECT_TIMEOUT=10000
# MQTT_MAX_RECONNECT_ATTEMPTS=5

# Configuración de seguridad
NODE_ENV="development"
PORT=3000


# Configuración de logs (opcional)
# DEBUG_PRISMA=true          # Habilitar logs detallados de Prisma (queries, info)
# DEBUG_POOL=true            # Habilitar logs del pool de conexiones
# LOG_LEVEL=debug            # Nivel de logging general (error, warn, info, debug) 